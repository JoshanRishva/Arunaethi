<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Puzzle Rounds for Arunaethi üíñ</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at center, #ffe0f0, #ffb6c1);
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      color: #880e4f;
    }

    h1 {
      margin-top: 6vh;
      font-size: 6vw;
      text-shadow: 1px 1px 6px #c2185b;
      padding: 0 10px;
    }

    .hint {
      font-size: 4vw;
      margin: 2vh auto;
      color: #ad1457;
      padding: 0 10px;
    }

    #wordPlaceholder {
      font-size: 5vw;
      margin-top: 2vh;
      color: #d81b60;
    }

    .grid {
      display: grid;
      grid-gap: 2vw;
      justify-content: center;
      margin: 4vh auto;
    }

    .cell {
      width: 12vw;
      height: 12vw;
      max-width: 60px;
      max-height: 60px;
      background-color: #f06292;
      color: white;
      font-size: 5vw;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px;
      cursor: pointer;
      user-select: none;
      transition: 0.2s;
    }

    .cell.selected {
      background-color: #c51162;
      box-shadow: 0 0 10px #880e4f;
    }

    .cell.hint-glow {
      animation: glow 1s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { box-shadow: 0 0 5px #ff4081; }
      to { box-shadow: 0 0 15px #f50057; }
    }

    .btn-clear {
      margin: 2vh auto;
      padding: 2vh 6vw;
      font-size: 4vw;
      border: none;
      border-radius: 10px;
      background-color: #f48fb1;
      color: white;
      cursor: pointer;
    }

    .btn-clear:hover {
      background-color: #ec407a;
    }

    @media (max-width: 400px) {
      .cell {
        width: 14vw;
        height: 14vw;
        font-size: 6vw;
      }

      .btn-clear {
        font-size: 5vw;
      }
    }
  </style>
</head>
<body>

<h1 id="roundTitle">üîç Round 1: Find "ANJALA" üíñ</h1>
<p class="hint" id="roundHint">Hint: She‚Äôs always close to your heart üí´</p>
<p id="wordPlaceholder"></p>

<div class="grid" id="grid">
  <!-- Grid generated by JS -->
</div>

<button class="btn-clear" onclick="clearSelection()">Clear</button>

<script>
const rounds = [
  {
    word: "ANJALA",
    gridSize: 6,
    hint: "She‚Äôs always close to your heart üí´",
    indices: [0, 7, 14, 21, 28, 35]
  },
  {
    word: "LOVES",
    gridSize: 6,
    hint: "That emotion in 5 letters ü§ç",
    indices: [12, 13, 14, 15, 16]
  },
  {
    word: "JOSHAN",
    gridSize: 6,
    hint: "That sweet little sparkle üí°",
    indices: [5, 10, 15, 20, 25, 30]
  }
];

let currentRound = 0;
let selectedIndices = [];

function loadRound(roundIndex) {
  const round = rounds[roundIndex];
  const gridEl = document.getElementById("grid");
  const roundTitle = document.getElementById("roundTitle");
  const roundHint = document.getElementById("roundHint");
  const wordPlaceholder = document.getElementById("wordPlaceholder");

  gridEl.innerHTML = "";
  gridEl.style.gridTemplateColumns = `repeat(${round.gridSize}, 1fr)`;

  roundTitle.innerHTML = `üîç Round ${roundIndex + 1}: Find and Press Enter üíñ`;
  roundHint.textContent = round.hint;
  wordPlaceholder.textContent = "_ ".repeat(round.word.length).trim();

  const totalCells = round.gridSize * round.gridSize;
  const letters = Array(totalCells).fill(0).map(() => String.fromCharCode(65 + Math.floor(Math.random() * 26)));
  round.indices.forEach((idx, i) => letters[idx] = round.word[i]);

  letters.forEach((letter, index) => {
    const cell = document.createElement("div");
    cell.className = "cell";
    cell.textContent = letter;
    cell.dataset.index = index;

    cell.addEventListener("click", () => {
      const isCorrect = round.indices.includes(index);
      if (!cell.classList.contains("selected")) {
        cell.classList.add("selected");
        selectedIndices.push(index);
        if (!isCorrect) cell.classList.add("hint-glow");
      } else {
        cell.classList.remove("selected", "hint-glow");
        selectedIndices = selectedIndices.filter(i => i !== index);
      }
    });

    gridEl.appendChild(cell);
  });
}

function clearSelection() {
  selectedIndices = [];
  document.querySelectorAll(".cell").forEach(cell => cell.classList.remove("selected", "hint-glow"));
}

function getSelectedWord(round) {
  return round.indices.filter(i => selectedIndices.includes(i)).map(i => document.querySelector(`.cell[data-index='${i}']`).textContent).join("");
}

function checkWord() {
  const round = rounds[currentRound];
  const formed = getSelectedWord(round);
  if (formed === round.word) {
    alert(`üéâ You found ${round.word}! üíï`);
    currentRound++;
    if (currentRound < rounds.length) {
      clearSelection();
      loadRound(currentRound);
    } else {
      document.body.innerHTML = `
        <h1 style='margin-top:80px; font-size:2.5em; color:#c2185b;'>üéä ANJALA üíñ LOVES üíñ JOSHAN üéä</h1>
        <p style='font-size:1.2em; margin:20px auto; width:80%; color:#6a1b9a;'>You can fill this paragraph with anything you like...</p>
        <input type='text' id='secretInput' placeholder='Enter Secret Code' 
               style='padding:10px; font-size:1em; width:250px; border-radius:8px; border:2px solid #ec407a;' />
        <br><br>
        <button onclick="gotoGift()" 
                style='padding:10px 20px; font-size:1em; background-color:#f06292; color:white; border:none; border-radius:10px; cursor:pointer;'>Submit</button>
      `;
    }
  }
}

function gotoGift() {
  const code = document.getElementById("secretInput").value.trim();
  if (code !== "") {
    window.location.href = "gift3.html";
  }
}

document.addEventListener("keydown", function (e) {
  if (e.key === "Enter") {
    checkWord();
  }
});

loadRound(currentRound);
</script>

</body>
</html>
